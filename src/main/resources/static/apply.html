<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="./css/public.css">
</head>
<body>
    <div id="app">
        <h1>申请管理</h1>
        <button class="btn">新增申请</button>
        <select v-model="stateFilter">
            <option value="all">全部</option>
            <option value="0">待审核</option>
            <option value="1">已通过</option>
            <option value="2">未通过</option>
        </select>
        <table border="1">
            <tr>
                <th>ID</th>
                <th>申请人ID</th>
                <th>申请人</th>
                <th>标题</th>
                <th>内容</th>
                <th>提交时间</th>
                <th>状态</th>
                <th>审批时间</th>
                <th>操作</th>
            </tr>
            <tr v-for="(item,index) in formList">
                <td>{{item.formId}}</td>
                <td>{{item.userId}}</td>
                <td>{{item.realName}}</td>
                <td>{{item.title}}</td>
                <td>{{item.content}}</td>
                <td>{{item.createTime}}</td>
                <td v-if="item.state==0" class="orange">待审核</td>
                <td v-if="item.state==1" class="green">已通过</td>
                <td v-if="item.state==2" class="red">未通过</td>
                <td>{{item.approveTime}}</td>
                <td>
                    <button class="btn" v-if="item.state == 0">撤销申请</button>
                </td>
            </tr>
        </table>
        <div id="page-btns">
            <button class="prev-next" @click="prev" :disabled="isPrevDisabled">上一页</button>
            <button class="page-btn" v-for="index of totalPage" :disabled="currentPage==index" @click="toPage(index)">{{index}}</button>
            <button class="prev-next" @click="next" :disabled="isNextDisabled">下一页</button>
        </div>
    </div>

    <script src="./js/vue.js"></script>
    <script src="./js/apply.js"></script>
</body>
</html>